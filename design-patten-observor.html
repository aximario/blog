<!DOCTYPE html>
<html lang="zh-Hans">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="stylesheet" href="./index.css">
  <title>Nginx 入门</title>
  <script>
      var _mtac = {};
      (function() {
        var mta = document.createElement("script");
        mta.src = "//pingjs.qq.com/h5/stats.js?v2.0.4";
        mta.setAttribute("name", "MTAH5");
        mta.setAttribute("sid", "500621477");

        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(mta, s);
      })();
  </script>
</head>

<body>
  <article>
    <header>Nginx 入门</header>
    <p>更新于 2018-09-22</p>
    <aside>
      <h1>大纲</h1>
      <ul>
        <li><a href="#nginx-introduction">1. Nginx 介绍</a></li>
        <li><a href="#nginx-setup">2. Nginx 安装</a></li>
        <li><a href="#nginx-configuration">3. Nginx 配置</a></li>
      </ul>
    </aside>

    <section id="nginx-introduction">
      <h1>1. Nginx 介绍</h1>
      <p>Nginx 是俄罗斯人编写的十分轻量级的 HTTP 服务器，Nginx，它的发音为“engine X”，是一个高性能的 HTTP 和反向代理服务器，同时也是一个 IMAP/POP3/SMTP 代理服务器。Nginx
        是由俄罗斯人 Igor Sysoev 为俄罗斯访问量第二的 Rambler.ru 站点开发的，它已经在该站点运行超过两年半了。Igor Sysoev 在建立的项目时，使用基于 BSD 许可。</p>
    </section>

    <section id="nginx-setup">
      <h1>2. Nginx 安装</h1>
      <p>
        <a href="http://nginx.org/en/linux_packages.html">Nginx 官方安装指南</a> 里有详尽的各系统的安装方式，下面主要记录下我自己尝试过的安装方式。
      </p>
      <h2>2.1 在 CentOS 7 上 安装 Nginx</h2>
      <p><strong>设置 yum 仓库</strong></p>
      <p>在
        <code>/etc/yum.repos.d/nginx.repo</code> 文件里加上下面的设置</p>
      <pre>
        <code>
          [nginx]
          name=nginx repo
          baseurl=http://nginx.org/packages/centos/7/$basearch/
          gpgcheck=0
          enabled=1
        </code>
      </pre>
      <p><strong>安装</strong></p>
      <pre>
        <code>yum install nginx</code>
      </pre>
      <p><strong>启动</strong></p>
      <pre>
        <code>nginx</code>
      </pre>
    </section>

    <section id="nginx-configuration">
      <h1>3. Nginx 配置</h1>
      <p>Nginx 配置分为 <strong>main</strong>，<strong>events</strong>，<strong>http</strong>，<strong>mail</strong>，<strong>stream</strong>，<strong>server</strong>，<strong>location</strong> 这几个上下文。</p>
      <h2>3.1 处理没有匹配到的 server</h2>
      <p>在写了多个 server 配置之后，如果有请求来，没有匹配到任何的 server，nginx 会默认给第一个 server 处理。如果不想处理没有匹配到 server 的请求，可以这么配置：</p>
      <pre>
        <code>
          server {
              listen 80 default_server;
              server_name _;
              return 444;
          }
        </code>
      </pre>
    </section>
  </article>
</body>

</html>